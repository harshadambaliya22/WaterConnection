// Container widths
//
// Set the container width, and override it for fixed navbars in media queries.

@if $enable-container-classes {
  // 1) Base container
  .container,
  .container-fluid {
    @include make-container();
  }

  // 2) Get keys manually into a list (in declared order)
  $breakpoint-keys: ();
  @each $key, $val in $container-max-widths {
    $breakpoint-keys: append($breakpoint-keys, $key);
  }

  // 3) Loop from last to first (large to small)
  $length: length($breakpoint-keys);

  @for $i from $length through 1 {
    $bp: nth($breakpoint-keys, $i);
    $max-width: map-get($container-max-widths, $bp);

    // Build selector list from $i to 1 (current to smallest)
    $selectors: ();
    @for $j from $i through 1 {
      $inner-bp: nth($breakpoint-keys, $j);
      $selectors: append($selectors, ".container-#{$inner-bp}", comma);
    }
    // Add plain .container last
    $selectors: append($selectors, ".container", comma);

    // Output the media query block
    @include media-breakpoint-down($bp) {
      #{ join($selectors, ", ") } {
        max-width: $max-width;
      }
    }
  }
}